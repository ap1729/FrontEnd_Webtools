<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<title>Circles Varying</title>
<style>

body {
  position: relative;
  width: 960px;
}

svgContainer {
  font: 10px sans-serif;
  shape-rendering: crispEdges;
}

rect {
  fill: #ddd;
}

.axis path,
.axis line {
  fill: none;
  stroke: #fff;
}

button {
  position: absolute;
  right: 30px;
  top: 30px;
}

</style>

<button>Reset</button>

<script src="http://d3js.org/d3.v3.min.js"></script>

</head>

<body>

<script>
 //data used to plot graphs 
 var col1=[1,2,3,4,5,6,7,8,9,10];
 var x1 = [1,2,3,4,5,6,7,8,9,10];
 var y1 =[1,1,2,2,3,3,4,4,5,5];
 var m1=[1,3,4,6,7,9,11,13,14,15];
 var m2=[1,6,10,15,40,35,21,24,15,7];

 var margin = {top: 20, right: 20, bottom: 30, left: 40},
    width = 1300 - margin.left - margin.right,
    height = 650 - margin.top - margin.bottom;

 var x = d3.scale.linear()
    .domain([-width / 2, width / 2])
    .range([0, width]);

var y = d3.scale.linear()
    .domain([-height / 2, height / 2])
    .range([height, 0]);

var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom")
    .tickSize(-height);

var yAxis = d3.svg.axis()
    .scale(y)
    .orient("left")
    .ticks(5)
    .tickSize(-width);

var zoom = d3.behavior.zoom()
    .x(x)
    .y(y)
    .scaleExtent([1, 10])   //this controls maximum zooming amount
    .on("zoom", zoomed);

 var svgContainer = d3.select("body").append("svg").attr("width", 1250).attr("height", 650) // this 1250 and 650 is size of svg which can be altered to fit whatever size we want
 .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
    .call(zoom);
 d3.select("button").on("click", reset);

 svgContainer.append("rect")
    .attr("width", width)
    .attr("height", height);

svgContainer.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + height + ")")
    .call(xAxis);

svgContainer.append("g")
    .attr("class", "y axis")
    .call(yAxis);

function zoomed() {
    svgContainer.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
}//above function causes zooming which is called in var zoom

function reset() {
  svgContainer.call(zoom
      .x(x.domain([-width / 2, width / 2]))
      .y(y.domain([-height / 2, height / 2]))
      .event);
}

//m1 and m2 varying along both x and y axis
//m1 is represented as radius,m2 in color using some sort of gray scale,minimum is white and maximum is black
var min1=Math.min.apply(null,m2)+5
var max1=Math.max.apply(null,m2)
for(i=0;i<col1.length;i++)
{
 var circle=svgContainer.append("circle").attr("cx",20).attr("cy", 100).attr("r",3*m1[i-1]).attr("style","fill:rgb(0,0,0) ;stroke: blue ;stroke-width: 2");
 }

d3.selectAll("circle").data(m2).style('fill', function(d){return d3.rgb(((max1-d)*255/(max1-min1)),((max1-d)*255/(max1-min1)),((max1-d)*255/(max1-min1)))});
d3.selectAll("circle").data(x1).attr("cx",function(d){return 100*d});
d3.selectAll("circle").data(y1).attr("cy",function(d){return 650-(100*d)})

</script>
</body>

</html>
